# filename: .env.example
PORT=3000
LOG_LEVEL=info

# Body limits (express parser)
JSON_LIMIT=20mb
HTML_LIMIT=20mb

# HTML payload limit (incoming HTML before rendering)
PDF_MAX_HTML_KB=1024             # 1024 KB = 1 MB default
# PDF_MAX_HTML_BYTES=1048576     # Alternative: set bytes directly (takes precedence)

# Soft-Landing / Slim-Mode (experimental)
PDF_SLIM_MODE=0                  # 0 = hard fail if too large, 1 = apply slim-mode

# PDF size policy (output PDF)
PDF_MAX_BYTES_DEFAULT=20971520   # 20 MB default
PDF_MAX_BYTES_CAP=33554432       # 32 MB absolute cap
# Client darf maxBytes im Request mitschicken (wird auf CAP geclamped)

# Rendering & Sanitizing
PUPPETEER_HEADLESS=new
PDF_RENDER_TIMEOUT=60            # Seconds (preferred)
# RENDER_TIMEOUT_MS=60000        # Milliseconds (legacy, fallback)
PDF_MINIFY_HTML=1
PDF_STRIP_SCRIPTS=1
PDF_STRIP_PAGE_AT_RULES=1

# Safety limits
PDF_MEMORY_LIMIT=1024            # MB (informational, for monitoring)

# PDF optimization (smaller file sizes)
PDF_SCALE=0.94                   # 0.94 = slightly smaller, 1.0 = full size
PDF_PRINT_BACKGROUND=0           # 0 = no backgrounds (smaller), 1 = with backgrounds

# Response preference
# 0 = standardmäßig application/pdf; 1 = JSON(base64)
RETURN_JSON_BASE64=0

# Rate limit
RATE_LIMIT_PER_MIN=120
